{% extends 'base.html' %}

{% block content %}

<h1>User Tipping</h1>

{% block fixture_list %}

    <div id="fixture-list">
        {% for fixture, prediction in fixtures_and_predictions %}
        {% block fixture_container %}

            <div class="prediction-container" x-data="{editing: false}">
            {{fixture.home_team}}

            <span x-show="editing">
                {% include 'partials/prediction_form.html' %}
            </span>

            {% if prediction %}
                <span x-show="!editing">
                    {{prediction.home_goals}} - {{prediction.away_goals}}
                </span>
            {% else %}
                <span x-show="!editing">|</span>
            {% endif %}
            {{fixture.away_team}}

            <span style="margin-left: 10px">
                <button @click="editing = true" x-show="!editing">Tip</button>
                <button @click="editing = false" x-show="editing">Cancel</button>

                <span x-show="editing">
                    <button id="predict-fixture-{{fixture.pk}}">Submit</button>
                </span>
            </span>
            <hr/>
            </div>
        {% endblock %}
        {% endfor %}
    </div>

{% endblock %}

{% endblock %}